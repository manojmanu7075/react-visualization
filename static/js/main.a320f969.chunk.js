(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{255:function(e,t,r){e.exports=r(454)},454:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(39),o=r.n(c),i=r(48),u=r(199),s=r(222),l=r(57),p=r(29),m=r.n(p),f=r(41),b="EVENT/API_ERROR_RECEIVED",O="COMMAND/FETCH_METRICS",d="EVENT/METRICS_RECEIVED",E="COMMAND/FETCH_PAST_METRICS_DATA",y="EVENT/PAST_METRICS_DATA_RECEIVED",h=r(100),g=m.a.mark(v),j=m.a.mark(w);function v(e){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(h.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},g)}function w(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(b,v);case 2:case"end":return e.stop()}},j)}var D=[w],x=r(4),T=r(55),P=r(8),k=r(110),A=r(204),C=r(220),I=r(223),M=r(35),V=r(203),N=r(7),R=r(111),S=r.n(R);function _(){var e=Object(T.a)(["\n            subscription {\n                newMeasurement {\n                    at\n                    unit\n                    value\n                    metric\n                }\n            }\n        "]);return _=function(){return e},e}function F(){var e=Object(T.a)(['\n      {\n        getMeasurements(\n          input: {\n            metricName: "','"\n            after: ',"\n          }\n        ) {\n          at\n          metric\n          value\n        }\n      }\n    "]);return F=function(){return e},e}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(){var e=Object(T.a)(["\n            {\n                getMetrics\n            }\n        "]);return L=function(){return e},e}var H=new I.a({uri:"https://react.eogresources.com/graphql"}),K=new V.a({uri:"ws://react.eogresources.com/graphql",options:{reconnect:!0}}),B=Object(M.d)(function(e){var t=e.query,r=Object(N.l)(t);return"OperationDefinition"===r.kind&&"subscription"===r.operation},K,H),$=new C.a,z=new A.a({cache:$,link:B}),G=function(){var e=Object(k.a)(m.a.mark(function e(){var t,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.query({query:S()(L())});case 2:return t=e.sent,r=t.data,n=Object(P.a)(t,["data"]),e.abrupt("return",W({data:r},n));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(m.a.mark(function e(t){var r,n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,z.query({query:S()(F(),t,new Date((new Date).getTime()-18e5).getTime())});case 3:return r=e.sent,n=r.data,a=Object(P.a)(r,["data"]),e.abrupt("return",W({data:n},a));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U={fetchMetrics:G,subscribeMetricsData:function(){var e=Object(k.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.subscribe({query:S()(_())});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fetchPastData:J};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Y=m.a.mark(te),Z=m.a.mark(re),ee=m.a.mark(ne);function te(e){var t,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(U.fetchMetrics);case 2:if(t=e.sent,r=t.data,!(n=t.error)){e.next=10;break}return e.next=8,Object(f.c)({type:b,error:n.errors[0].message});case 8:return e.next=10,Object(f.b)();case 10:return e.next=12,Object(f.c)({type:d,metrics:r.getMetrics});case 12:case"end":return e.stop()}},Y)}function re(e){var t,r,n,a,c;return m.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(f.a)(U.fetchPastData,e.metricName);case 2:return t=o.sent,r=t.data,n=r.getMeasurements,a={},n.map(function(e){var t,r=e.metric,n=e.at,c=e.value;return a=X({},a,Object(x.a)({},n,X({},a[n],(t={},Object(x.a)(t,r,c),Object(x.a)(t,"at","".concat(new Date(n).getHours()%12||12,"-").concat(new Date(n).getMinutes())),t)))),null}),c=Object.keys(a).map(function(e){return a[e]}),o.next=10,Object(f.c)({type:y,graphData:c});case 10:case"end":return o.stop()}},Z)}function ne(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(O,te);case 2:return e.next=4,Object(f.d)(E,re);case 4:case"end":return e.stop()}},ee)}var ae,ce=[ne],oe=[].concat(Object(l.a)(D),Object(l.a)(ce)),ie={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},ue=Object(x.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var r,n=t.getWeatherForLocation,a=n.description,c=n.locationName,o=n.temperatureinCelsius;return{temperatureinCelsius:o,temperatureinFahrenheit:(r=o,9*r/5+32),description:a,locationName:c}}),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,r=ue[t.type];return"undefined"===typeof r?e:r(e,t)};function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var me={metrics:[],metricsData:{},graphData:[],currentValue:{tubingPressure:0,casingPressure:0,oilTemp:0,flareTemp:0,waterTemp:0,injValveOpen:0}},fe=(ae={},Object(x.a)(ae,d,function(e,t){return pe({},e,{metrics:t.metrics})}),Object(x.a)(ae,"EVENT/METRICS_DATA_RECEIVED",function(e,t){var r,n=t.metrics,a=n.metric,c=n.at,o=n.value,i=pe({},e.currentValue,Object(x.a)({},a,o)),u=e.metricsData,s=Object.keys(u).map(function(e){return u[e]});return pe({},e,{metricsData:pe({},u,Object(x.a)({},c,pe({},u[c],(r={},Object(x.a)(r,a,o),Object(x.a)(r,"at","".concat(new Date(c).getHours()%12||12,"-").concat(new Date(c).getMinutes())),r)))),graphData:s,currentValue:i})}),Object(x.a)(ae,y,function(e,t){var r=t.graphData,n=t.metricsData;return console.log(r),pe({},e,{metricsData:n,graphData:r})}),ae),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,r=fe[t.type];return"undefined"===typeof r?e:r(e,t)},Oe=r(60),de=r(218),Ee=r(486),ye=r(484),he=(r(280),r(114)),ge=r(477),je=r(478),ve=r(207),we=r(109),De=r(113),xe=r(476),Te=r(487),Pe=r(485),ke=r(23),Ae=Object(ke.a)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(Pe.a),Ce=Object(De.b)({url:"https://react.eogresources.com/graphql"}),Ie=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},Me=function(){return a.a.createElement(De.a,{value:Ce},a.a.createElement(Ve,null))},Ve=function(){var e=Object(xe.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},r=Object(Oe.c)(),c=Object(Oe.d)(Ie),o=c.temperatureinFahrenheit,i=c.description,u=c.locationName,s=Object(De.c)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),l=Object(we.a)(s,1)[0],p=l.fetching,m=l.data,f=l.error;return Object(n.useEffect)(function(){if(f)r({type:b,error:f.message});else if(m){var e=m.getWeatherForLocation;r({type:"EVENT/WEATHER_DATA_RECEIVED",getWeatherForLocation:e})}},[r,m,f]),p?a.a.createElement(Te.a,null):a.a.createElement(Ae,{label:"Weather in ".concat(u,": ").concat(i," and ").concat(o,"\xb0")})},Ne=Object(ve.a)({grow:{flexGrow:1}}),Re=function(){var e=Ne();return a.a.createElement(ge.a,{position:"static"},a.a.createElement(je.a,null,a.a.createElement(he.a,{variant:"h6",color:"inherit",className:e.grow},"Manoj Telukuntla's"," EOG React Visualization Assessment"),a.a.createElement(Me,null)))},Se=Object(ve.a)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}}),_e=function(e){var t=e.children,r=Se();return a.a.createElement("div",{className:r.wrapper},t)},Fe=r(480),qe=r(481),We=r(482),Le=r(483),He=r(479),Ke=r(221),Be=r(208),$e=r(38),ze=Object(Be.a)(),Ge=Object(Oe.b)(function(e){return{metrics:e.metrics.metrics,graphData:e.metrics.graphData,currentValue:e.metrics.currentValue}},function(e){return{onLoad:function(){e({type:O})},subscribeUpdates:function(){U.subscribeMetricsData().then(function(t){t.subscribe(function(t){var r=t.data;e({type:"EVENT/METRICS_DATA_RECEIVED",metrics:r.newMeasurement})})})},loadPastData:function(t){e({type:E,metricName:t})}}})(function(e){var t=e.onLoad,r=e.metrics,n=e.currentValue,c=e.subscribeUpdates,o=a.a.useState([]),i=Object(we.a)(o,2),u=i[0],s=i[1];Object(He.a)(function(){t(),c()});var l=r.map(function(e){return{label:e,value:e}}),p=e.graphData;return a.a.createElement(Fe.a,null,a.a.createElement(qe.a,{title:"Plot",subheader:"Choose from Input"}),a.a.createElement(We.a,{style:{minHeight:500}},a.a.createElement(Le.a,{container:!0},u.map(function(e,t){return a.a.createElement(Le.a,{key:t,item:!0,xs:2},a.a.createElement(Fe.a,null,a.a.createElement(qe.a,{title:e}),a.a.createElement(We.a,null,a.a.createElement(he.a,{variant:"h3"},n[e]))))})),a.a.createElement(Ke.a,{options:l,components:ze,isMulti:!0,onChange:function(e){s(e?e.map(function(e){return e.value}):[])}}),a.a.createElement($e.b,{width:800,height:500,data:p,margin:{top:30,right:30,bottom:5,left:50}},u.indexOf("oilTemp")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"oilTemp",stroke:"#FF0000"}),u.indexOf("injValveOpen")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:0,dataKey:"injValveOpen",stroke:"#1100FF"}),u.indexOf("tubingPressure")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"tubingPressure",stroke:"#00770C"}),u.indexOf("casingPressure")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"casingPressure",stroke:"#B900AD"}),u.indexOf("flareTemp")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"flareTemp",stroke:"#C7A600"}),u.indexOf("waterTemp")>-1&&a.a.createElement($e.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"waterTemp",stroke:"#3C392E"}),a.a.createElement($e.d,{dataKey:"at",tickSize:10}),a.a.createElement($e.e,{yAxisId:0,unit:"%",orientation:"left",stroke:"#88f4d8"}),a.a.createElement($e.e,{yAxisId:1,unit:"PSI",orientation:"left",stroke:"#82ca9d"}),a.a.createElement($e.e,{yAxisId:2,unit:"F",orientation:"left",stroke:"#82ca9d"}),a.a.createElement($e.c,null))))}),Je=function(){var e=Object(i.combineReducers)({weather:se,metrics:be}),t=Object(u.composeWithDevTools)({}),r=Object(s.a)(),n=Object(i.applyMiddleware)(r),a=Object(i.createStore)(e,t(n));return oe.forEach(r.run),a}(),Ue=Object(de.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Qe=function(e){return a.a.createElement(Ee.a,{theme:Ue},a.a.createElement(ye.a,null),a.a.createElement(Oe.a,{store:Je},a.a.createElement(_e,null,a.a.createElement(Re,null),a.a.createElement(h.ToastContainer,null),a.a.createElement(Ge,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[255,1,2]]]);
//# sourceMappingURL=main.a320f969.chunk.js.map