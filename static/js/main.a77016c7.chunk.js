(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,r){e.exports=r(447)},447:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(35),o=r.n(c),i=r(46),u=r(193),s=r(215),p=r(55),l=r(26),m=r.n(l),f=r(39),b="EVENT/API_ERROR_RECEIVED",O="COMMAND/FETCH_METRICS",d="EVENT/METRICS_RECEIVED",y="COMMAND/FETCH_PAST_METRICS_DATA",E="EVENT/PAST_METRICS_DATA_RECEIVED",j=r(96),v=m.a.mark(h),g=m.a.mark(w);function h(e){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(j.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},v)}function w(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(b,h);case 2:case"end":return e.stop()}},g)}var D=[w],x=r(3),P=r(53),T=r(14),k=r(106),A=r(199),C=r(214),I=r(218),M=r(31),V=r(198),R=r(7),S=r(107),N=r.n(S);function _(){var e=Object(P.a)(["\n            subscription {\n                newMeasurement {\n                    at\n                    unit\n                    value\n                    metric\n                }\n            }\n        "]);return _=function(){return e},e}function F(){var e=Object(P.a)(['\n      {\n        getMeasurements(\n          input: {\n            metricName: "','"\n            after: ',"\n          }\n        ) {\n          at\n          metric\n          value\n        }\n      }\n    "]);return F=function(){return e},e}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(){var e=Object(P.a)(["\n            {\n                getMetrics\n            }\n        "]);return H=function(){return e},e}var W=new I.a({uri:"https://react.eogresources.com/graphql"}),B=new V.a({uri:"ws://react.eogresources.com/graphql",options:{reconnect:!0}}),L=Object(M.d)(function(e){var t=e.query,r=Object(R.l)(t);return"OperationDefinition"===r.kind&&"subscription"===r.operation},B,W),J=new C.a,U=new A.a({cache:J,link:L}),z=function(){var e=Object(k.a)(m.a.mark(function e(){var t,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.query({query:N()(H())});case 2:return t=e.sent,r=t.data,n=Object(T.a)(t,["data"]),e.abrupt("return",K({data:r},n));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(k.a)(m.a.mark(function e(t){var r,n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,U.query({query:N()(F(),t,new Date((new Date).getTime()-18e5).getTime())});case 3:return r=e.sent,n=r.data,a=Object(T.a)(r,["data"]),e.abrupt("return",K({data:n},a));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G={fetchMetrics:z,subscribeMetricsData:function(){var e=Object(k.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.subscribe({query:N()(_())});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fetchPastData:$};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Y=m.a.mark(te),Z=m.a.mark(re),ee=m.a.mark(ne);function te(e){var t,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(G.fetchMetrics);case 2:if(t=e.sent,r=t.data,!(n=t.error)){e.next=10;break}return e.next=8,Object(f.c)({type:b,error:n.errors[0].message});case 8:return e.next=10,Object(f.b)();case 10:return e.next=12,Object(f.c)({type:d,metrics:r.getMetrics});case 12:case"end":return e.stop()}},Y)}function re(e){var t,r,n,a,c;return m.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(f.a)(G.fetchPastData,e.metricName);case 2:return t=o.sent,r=t.data,n=r.getMeasurements,a={},n.map(function(e){var t,r=e.metric,n=e.at,c=e.value;return a=X({},a,Object(x.a)({},n,X({},a[n],(t={},Object(x.a)(t,r,c),Object(x.a)(t,"at","".concat(new Date(n).getHours()%12||12,"-").concat(new Date(n).getMinutes())),t)))),null}),c=Object.keys(a).map(function(e){return a[e]}),o.next=10,Object(f.c)({type:E,graphData:c});case 10:case"end":return o.stop()}},Z)}function ne(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(O,te);case 2:return e.next=4,Object(f.d)(y,re);case 4:case"end":return e.stop()}},ee)}var ae,ce=[ne],oe=[].concat(Object(p.a)(D),Object(p.a)(ce)),ie={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},ue=Object(x.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var r,n=t.getWeatherForLocation,a=n.description,c=n.locationName,o=n.temperatureinCelsius;return{temperatureinCelsius:o,temperatureinFahrenheit:(r=o,9*r/5+32),description:a,locationName:c}}),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,r=ue[t.type];return"undefined"===typeof r?e:r(e,t)};function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(r,!0).forEach(function(t){Object(x.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var me={metrics:[],metricsData:{},graphData:[],currentValue:{tubingPressure:0,casingPressure:0,oilTemp:0,flareTemp:0,waterTemp:0,injValveOpen:0}},fe=(ae={},Object(x.a)(ae,d,function(e,t){return le({},e,{metrics:t.metrics})}),Object(x.a)(ae,"EVENT/METRICS_DATA_RECEIVED",function(e,t){var r,n=t.metrics,a=n.metric,c=n.at,o=n.value,i=le({},e.currentValue,Object(x.a)({},a,o)),u=e.metricsData,s=Object.keys(u).map(function(e){return u[e]});return le({},e,{metricsData:le({},u,Object(x.a)({},c,le({},u[c],(r={},Object(x.a)(r,a,o),Object(x.a)(r,"at","".concat(new Date(c).getHours()%12||12,"-").concat(new Date(c).getMinutes())),r)))),graphData:s,currentValue:i})}),Object(x.a)(ae,E,function(e,t){var r=t.graphData,n=t.metricsData;return console.log(r),le({},e,{metricsData:n,graphData:r})}),ae),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,r=fe[t.type];return"undefined"===typeof r?e:r(e,t)},Oe=r(104),de=r(213),ye=r(469),Ee=r(467),je=(r(272),r(200)),ve=Object(je.a)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}}),ge=function(e){var t=e.children,r=ve();return a.a.createElement("div",{className:r.wrapper},t)},he=r(217),we=r(468),De=r(464),xe=r(465),Pe=r(466),Te=r(109),ke=r(463),Ae=r(216),Ce=r(203),Ie=r(34),Me=Object(Ce.a)(),Ve=Object(Oe.b)(function(e){return{metrics:e.metrics.metrics,graphData:e.metrics.graphData,currentValue:e.metrics.currentValue}},function(e){return{onLoad:function(){e({type:O})},subscribeUpdates:function(){G.subscribeMetricsData().then(function(t){t.subscribe(function(t){var r=t.data;e({type:"EVENT/METRICS_DATA_RECEIVED",metrics:r.newMeasurement})})})},loadPastData:function(t){e({type:y,metricName:t})}}})(function(e){var t=e.onLoad,r=e.metrics,n=e.currentValue,c=e.subscribeUpdates,o=a.a.useState([]),i=Object(he.a)(o,2),u=i[0],s=i[1];Object(ke.a)(function(){t(),c()});var p=r.map(function(e){return{label:e,value:e}}),l=e.graphData;return a.a.createElement(we.a,null,a.a.createElement(De.a,{title:"Plot",subheader:"Choose from Input"}),a.a.createElement(xe.a,{style:{minHeight:500}},a.a.createElement(Pe.a,{container:!0},u.map(function(e,t){return a.a.createElement(Pe.a,{key:t,item:!0,xs:2},a.a.createElement(we.a,null,a.a.createElement(De.a,{title:e}),a.a.createElement(xe.a,null,a.a.createElement(Te.a,{variant:"h3"},n[e]))))})),a.a.createElement(Ae.a,{options:p,components:Me,isMulti:!0,onChange:function(e){s(e?e.map(function(e){return e.value}):[])}}),a.a.createElement(Ie.b,{width:800,height:500,data:l,margin:{top:30,right:30,bottom:5,left:50}},u.indexOf("oilTemp")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"oilTemp",stroke:"#FF0000"}),u.indexOf("injValveOpen")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:0,dataKey:"injValveOpen",stroke:"#1100FF"}),u.indexOf("tubingPressure")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"tubingPressure",stroke:"#00770C"}),u.indexOf("casingPressure")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"casingPressure",stroke:"#B900AD"}),u.indexOf("flareTemp")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"flareTemp",stroke:"#C7A600"}),u.indexOf("waterTemp")>-1&&a.a.createElement(Ie.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"waterTemp",stroke:"#3C392E"}),a.a.createElement(Ie.d,{dataKey:"at",tickSize:10}),a.a.createElement(Ie.e,{yAxisId:0,unit:"%",orientation:"left",stroke:"#88f4d8"}),a.a.createElement(Ie.e,{yAxisId:1,unit:"PSI",orientation:"left",stroke:"#82ca9d"}),a.a.createElement(Ie.e,{yAxisId:2,unit:"F",orientation:"left",stroke:"#82ca9d"}),a.a.createElement(Ie.c,null))))}),Re=function(){var e=Object(i.combineReducers)({weather:se,metrics:be}),t=Object(u.composeWithDevTools)({}),r=Object(s.a)(),n=Object(i.applyMiddleware)(r),a=Object(i.createStore)(e,t(n));return oe.forEach(r.run),a}(),Se=Object(de.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Ne=function(e){return a.a.createElement(ye.a,{theme:Se},a.a.createElement(Ee.a,null),a.a.createElement(Oe.a,{store:Re},a.a.createElement(ge,null,a.a.createElement(j.ToastContainer,null),a.a.createElement(Ve,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[247,1,2]]]);
//# sourceMappingURL=main.a77016c7.chunk.js.map